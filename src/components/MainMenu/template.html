<div id="MainMenu" class="d-flex flex-column">
  <div class="px-5 pt-4" style="height: 64px;">
    <h2 class="primary--text title mb-0">凱銳斯管理後台</h2>
    <p class="caption grey--text mt-0">WEBSITE ADMIN</p>
  </div>

  <v-list nav>
    <template v-for="(item,item_index) in menu">
      <template v-if="item.type =='U'">
        <v-list-item
          v-if="!item.group"
          link
          :to="item.link"
          :key="`menu_${item_index}`"
        >
          <v-list-item-icon>
            <v-icon>{{item.icon}}</v-icon>
          </v-list-item-icon>

          <v-list-item-title class="text-button py-4"
            >{{item.title}}</v-list-item-title
          >
        </v-list-item>

        <v-list-group
          v-else
          class="mb-2"
          :value="GroupOpenFilter(item)"
          :prepend-icon="item.icon"
          :key="`menu_${item_index}`"
        >
          <template v-slot:activator>
            <v-list-item-title class="text-button py-4"
              >{{item.title}}</v-list-item-title
            >
          </template>

          <v-list-item
            v-for="(list_item,list_item_index) in item.list"
            :key="`menu_${item_index}_list_item_${list_item_index}`"
            class="pl-4"
            link
            :to="list_item.link"
          >
            <v-list-item-icon>
              <v-icon>mdi-circle-medium</v-icon>
            </v-list-item-icon>
            <v-list-item-title
              class="text-caption "
              v-text="list_item.title"
            ></v-list-item-title>
          </v-list-item>
        </v-list-group>
      </template>

      <template v-if="item.type =='A' && user_data.promission == 'A'">
        <v-list-item
          v-if="!item.group"
          link
          :to="item.link"
          :key="`menu_${item_index}`"
        >
          <v-list-item-icon>
            <v-icon>{{item.icon}}</v-icon>
          </v-list-item-icon>

          <v-list-item-title class="body-2">{{item.title}}</v-list-item-title>
        </v-list-item>

        <v-list-group
          v-else
          :value="GroupOpenFilter(item)"
          :prepend-icon="item.icon"
          :key="`menu_${item_index}`"
        >
          <template v-slot:activator>
            <v-list-item-title class="body-2">{{item.title}}</v-list-item-title>
          </template>

          <v-list-item
            v-for="(list_item,list_item_index) in item.list"
            :key="`menu_${item_index}_list_item_${list_item_index}`"
            class="pl-16"
            link
            :to="list_item.link"
          >
            <v-list-item-title
              class="body-2"
              v-text="list_item.title"
            ></v-list-item-title>
          </v-list-item>
        </v-list-group>
      </template>
    </template>
  </v-list>

  <!-- <v-list class="mt-auto">
    <v-list-item link to="/settings">
      <v-list-item-icon>
        <v-icon>mdi-cog</v-icon>
      </v-list-item-icon>

      <v-list-item-title class="body-2">功能設定</v-list-item-title>
    </v-list-item>
  </v-list> -->
</div>
