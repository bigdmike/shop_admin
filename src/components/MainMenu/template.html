<div id="MainMenu" class="d-flex flex-column">
  <div class="px-5 d-flex align-center" style="height: 64px;">
    <v-img style="width: 150px;" src="@/assets/logo.png?v2"></v-img>
  </div>

  <v-list>
    <template v-for="(item,item_index) in menu">
      <template v-if="item.type =='U'">
        <v-list-item
          v-if="!item.group"
          link
          :to="item.link"
          :key="`menu_${item_index}`"
        >
          <v-list-item-icon>
            <v-icon>{{item.icon}}</v-icon>
          </v-list-item-icon>

          <v-list-item-title class="body-2">{{item.title}}</v-list-item-title>
        </v-list-item>

        <v-list-group
          v-else
          :value="GroupOpenFilter(item)"
          :prepend-icon="item.icon"
          :key="`menu_${item_index}`"
        >
          <template v-slot:activator>
            <v-list-item-title class="body-2">{{item.title}}</v-list-item-title>
          </template>

          <v-list-item
            v-for="(list_item,list_item_index) in item.list"
            :key="`menu_${item_index}_list_item_${list_item_index}`"
            class="pl-16"
            link
            :to="list_item.link"
          >
            <v-list-item-title
              class="body-2"
              v-text="list_item.title"
            ></v-list-item-title>
          </v-list-item>
        </v-list-group>
      </template>

      <template v-if="item.type =='A' && user_data.promission == 'A'">
        <v-list-item
          v-if="!item.group"
          link
          :to="item.link"
          :key="`menu_${item_index}`"
        >
          <v-list-item-icon>
            <v-icon>{{item.icon}}</v-icon>
          </v-list-item-icon>

          <v-list-item-title class="body-2">{{item.title}}</v-list-item-title>
        </v-list-item>

        <v-list-group
          v-else
          :value="GroupOpenFilter(item)"
          :prepend-icon="item.icon"
          :key="`menu_${item_index}`"
        >
          <template v-slot:activator>
            <v-list-item-title class="body-2">{{item.title}}</v-list-item-title>
          </template>

          <v-list-item
            v-for="(list_item,list_item_index) in item.list"
            :key="`menu_${item_index}_list_item_${list_item_index}`"
            class="pl-16"
            link
            :to="list_item.link"
          >
            <v-list-item-title
              class="body-2"
              v-text="list_item.title"
            ></v-list-item-title>
          </v-list-item>
        </v-list-group>
      </template>
    </template>
  </v-list>

  <!-- <v-list class="mt-auto">
    <v-list-item link to="/settings">
      <v-list-item-icon>
        <v-icon>mdi-cog</v-icon>
      </v-list-item-icon>

      <v-list-item-title class="body-2">功能設定</v-list-item-title>
    </v-list-item>
  </v-list> -->
</div>
